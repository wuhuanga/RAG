5.3 卫星控制系统的设计和实现

5.3  卫星控制系统的设计和实现
卫星型号的研制过程通常包括可行性论证阶段、方案阶段、初样阶段、正样阶段和应用改 进阶段。控制系统的设计和技术实现是卫星工程研制的基础。
控制系统设计目的是，在考虑卫星运行环境和寿命及可靠性要求的基础上，根据控制系统 部件及相关技术的发展水平，在整星的制约条件范围内，以最经济而可靠的手段满足飞行任务 对卫星控制系统的功能和性能要求。
卫星控制系统的设计和实现大体上包括概念研究、方案设计、技术设计三个层次。这三个  层次的工作是互相协调、紧密配合并在卫星研制过程中反复迭代、逐步完善的。概念研究是方  案设计的基础，方案设计是技术设计的依据。研究设计的结果都要通过各种分析、数学仿真、 物理仿真试验、部件试验和系统联试直至飞行试验加以验证并提供改进的依据。
5.3.1  概念研究
在可行性论证和方案阶段要完成控制系统的概念研究。概念研究的内容包括控制系统任 务分析和方案论证。
(1)任务分析
控制系统任务分析包括分析研究用户和总体提出的控制系统任务，明确对控制系统的功 能和性能要求。根据需要与实际可能，权衡各方面利弊，研究可供选择的主要技术途径。可以 根据实际情况提出对任务要求的修改和补充建议。
一般说来，控制系统应具备如下功能：姿态捕获，姿态确定，姿态稳定和保持，姿态机动，轨 道机动，轨道保持，卫星变轨时的姿态稳定和控制，有效载荷及太阳电池阵等其他分系统部件 的指向控制，控制系统自检查测试，系统故障检测、隔离和处理(切换备份或重组，必要时进入 应急安全模式运行)。
控制系统在不同运行阶段、不同动力学环境下的性能不同，主要的性能参数包括：轨道控  制精度，姿态确定精度，姿态控制精度，姿态稳定度(角速度和姿态抖动),有效载荷及其他分系  统部件的指向精度，系统响应时间和稳定裕度，系统功耗，系统质量，推进剂消耗，工作寿命等。
(2)方案论证
在明确了控制系统任务、性能和研制进度等要求之后，就可以从前面介绍的姿态和轨道控 制各种类型中选择适当的控制方式、确定控制系统的基本构形、初步确定敏感器和执行机构配 置、初步划分控制模式。控制类型的选择应遵循以下准则：
1)满足任务和总体对控制系统的技术要求。
2)尽可能考虑系统的继承性，确保系统可靠，力求先进。
3)与现有技术基础和技术发展相适应。对系统、硬件和软件技术要优选经过飞行验证的， 其次选已通过鉴定的，再次选近期内能够研制成功的。
4)标准化、系列化、通用化。
5)保证研制进度。
6)经济性。
对控制类型和控制系统构型的选择，要根据卫星总体任务要求(主要取决于有效载荷)和 约束条件而定。切忌先入为主和从已有设计资料中照搬照抄。为此需要明确：
1)星箭分离时的轨道与卫星运行轨道的差别，是否需要轨道捕获；
2)运行轨道的精度要求，是否需要轨道保持；
3)有效载荷(如遥感器、天线)对什么目标定向(对地球、对太阳还是对空间其他特定目 标);
4)有效载荷和其他分系统(如遥感器、天线、太阳电池阵)是否具有活动部件，是否需要局 部指向控制，局部指向控制与卫星主体姿态控制的相互影响；
5)星箭分离条件和初始姿态捕获要求，失控条件下再捕获目标的要求；
6)稳定运行时对指向控制精度及稳定度的要求；
7)姿态确定精度要求，是否需要在星上实时确定姿态；
8)变轨机动时是否有姿态控制任务及控制精度要求；
9)姿态机动要求；
控制系统的设计常常需要在许多相互矛盾的要求(功能、性能和约束条件)之间进行折衷 和优化，有时还必须与卫星总体及其他分系统折衷协调以获得一种可行的设计。
5.3.2 方案设计
方案设计主要解决控制类型、控制方法和影响姿态控制系统静、动态特性的参数选择匹配 问题，其完成的标志是在经过分析验证的系统数学模型基础上的分析和数学仿真，并由此获得 的满足全过程任务功能和性能要求及总体约束条件的姿态控制系统方案设计报告。
方案设计是控制分系统总体工作的一部分，它贯穿于整个型号研制过程。在方案阶段要 进行控制系统初步方案设计，为转初样决策服务。在初样阶段要完成控制系统构成、工作模 式、动力学特性、控制律或控制算法、控制软件计算公式和逻辑框图、以及有关技术接口要求的 详细分析设计和验证。在正样阶段要根据部件研制、控制系统技术实现、卫星总体和其他分系 统的最新技术状态，根据物理仿真、系统联试和整星试验中暴露的问题及其归零措施等对初样 方案设计进行修改或补充。方案设计要在飞行试验中获取设计确认和设计改进的第一手数 据。
(1)部件选择
要尽量选择技术上成熟的控制系统部件(敏感器、控制器和执行机构),并确定这些部件的 类型、数量、安装方式、环境条件、功能和性能指标等要求。对于新研制的和改进设计的部件的 技术要求必须是可以达到的，系统方案设计才有扎实的基础。
目前国际上光学敏感器和惯性敏感器已逐步趋向于商品化，磁强计也有若干品种可满足  应用需要，对这些部件的选用基本上属产品选择问题。除性能指标、体积、功耗、质量以及寿命  和可靠性外，敏感器适应在轨运行环境条件及应付不测事件的能力也是重要的考虑因素。射  频敏感器除早期个别型号外，并未发展成为一种基本敏感器，因为它与通信系统不可分割。利  用导航星座作信标源，不但能够确定卫星位置和轨道，而且通过星上差分接收能够确定姿态， 这也是一种特殊形式的射频敏感技术。
为了确定姿态控制执行机构的性能指标，首先需估算出所需控制力矩的大小，为此需分析 计算作用于卫星本体上的内外干扰力矩。对控制系统方案设计而言，需要在各种可能的飞行 状态下对总的干扰力矩估计出一个上限，并考虑其在轨运行时的变化规律，作为确定执行机构 的品种、构形、性能指标时的重要参考依据。
喷气执行机构、惯性飞轮、以及磁力矩器都是姿态控制常用的执行机构。目前这几种执行 机构都已有多种规格的经过飞行考验的产品，可适应大部分卫星控制任务的需要。
控制电子装置是控制系统的核心，它处理来自姿态敏感器的姿态信息以及卫星轨道信息， 确定卫星姿态，再按一定的控制律形成控制指令送给执行机构，使其产生所需控制力矩以消除  姿态误差。此外，控制器还具有某些管理功能(控制模式切换、程序控制、故障自主诊断和对策  等),控制其他星上分系统的指向机构(太阳电池阵指向、天线指向等)的功能和与卫星遥测遥  控分系统的接口功能。
现代控制电子装置应用的星载计算机不仅要完成姿态确定和姿态控制所涉及的计算任 务，而且还具有自检测试、故障诊断及处理等功能。关键问题是可靠性，设计时必须充分考虑 必要的硬件冗余和容错纠错措施，防止由空间辐照环境引起的单粒子锁定和翻转事件，以及其 他原因可能造成的死机、程序跑飞或数据错误而导致卫星姿态失控。为了提高可靠性，从方案 设计阶段就必须对软件实现工程化管理。此外，星上控制计算机还应具有通过地面遥控注入 数据，进行在轨再编程和数据更新功能，以应付各种意外事件。控制器硬件的选用与敏感器和 执行机构不同，基本上是根据要完成的特定任务进行设计，但仍然有一系列可供选择的能满足 空间环境要求的元器件。
(2)建模、分析和仿真
方案设计的主要任务之一是控制算法或控制律的设计和验证。方案设计最重要的工具是 控制系统数学模型和分析仿真软件。仿真试验和其他各种地面试验是验证和改进数学模型和 控制系统设计的手段。
进行控制系统设计必须首先搞清控制对象的动力学特性。要分析卫星外部和内部扰动， 进行卫星轨道、卫星姿态、挠性多体系统、液体晃动、发动机点火等动力学问题的研究，建立能  够确切反映控制对象运动规律的数学模型。还要深入了解控制系统各部件，建立部件的数学  模型。卫星动力学模型和各部件数学模型组合成控制系统数学模型。
数学模型中的参数及其变化范围的取值是控制系统建模的一个重要部分，需要分析计算， 有时还需要通过试验和复杂的计算才能确定。例如太阳翼结构基频需要进行单板模态试验和  铰链特性测试并结合结构有限元计算才能得到带有一定误差的估计值。在控制系统设计中，
要充分考虑模型参数变化范围，进行灵敏度分析，考察误差最坏组合对稳定性和性能的影响， 寻求在指定参数变化范围内都能满足要求的具有鲁棒性的控制器。
通常要进行频率域分析和时间域仿真，并互相验证。频率域方法主要用于系统稳定性分 析，确定稳定裕度；时间域仿真主要用于验证系统性能，如控制精度、超调量、机动能力、抗干扰 能力等。
(3)控制结构参数设计和软件需求
作为方案设计的输出的一部分，要向控制系统技术总体和控制电路设计师提出控制器结 构和参数设计以及控制系统技术实现的有关要求。要向技术总体和星载控制计算机软件设计 师提出姿态确定、姿态控制、轨道控制、故障诊断和故障对策等软件所需的计算公式和数据，给 出必要的信息处理流程和逻辑框图，并提出计算精度、采样周期、数据变化范围等要求。
方案设计也要提出地面测控和地面信息处理等需要的有关姿态确定、姿态控制、轨道控制 等的计算公式和逻辑框图，提出地面测控支持、遥测数据显示和记录等要求。
(4)与卫星总体及其他分系统的技术协调
姿态控制系统方案设计除需要卫星总体明确分系统任务和技术指标要求外，还应与总体 和其他分系统进行技术协调，以确定：对卫星轨道设计、发射窗口、星箭分离姿态、地面测控、测 轨定位等要求；对整星质量特性、结构外形、卫星剩余磁矩、干扰力矩、动力学特性包括挠性附 件结构振动和液体晃动特性、敏感器和执行机构在星体上的安装方式的要求等等。
5.3.3 技术设计
控制系统技术设计是在方案设计的基础上根据卫星结构、能源、测控、热控和运载发射等 技术约束条件以及卫星总体对控制系统的可靠性和安全性等要求进行技术实现的详细设计和 试验验证。
在方案阶段就要进行初步技术设计。初样阶段要进行详细的技术设计。正样阶段要根据 初样试验结果进行改进，最终确定发射星的技术设计状态。
在方案设计中若采用经过飞行试验考验、技术成熟的部件，且研制进度、品质保证和经费 等方面均满足要求，这就可成为可行方案，作为下一步技术设计的基础。若选用未经飞行验证 的部件，则需按技术指标进行鉴定和模型验证，考核通过后才能进入技术设计。
技术设计的主要内容如下。
(1)控制系统技术实现总体框图
要依据卫星总体下达的控制系统研制任务书，根据控制系统方案设计确定的控制方式、控 制系统基本构形、部件配置、控制器结构参数、控制软件需求等，确定控制系统技术实现的总体 框图，以及电连接图和机械构形图。
(2)与卫星总体及其他分系统的技术协调
控制系统技术设计中需要与卫星总体协调的内容包括系统总质量、部件安装方式、精度标 定、力学环境要求；电源品种、功耗要求；热真空环境和热控要求；遥测遥控及数据注入要求；推  进剂消耗量及寿命估计要求；空间辐照剂量要求和可靠性指标、寿命指标及各种接口的协调。 还要对诸如敏感器遮挡、推力器羽流之类的问题予以足够的注意。
(3)提出部件研制任务书
控制系统部件的研制任务书的内容包括对部件的技术要求、检测要求、贮存条件和验收规  范。其中，对各部件的技术要求包括：功能、精度、误差分配、电气性能、机械性能、电磁兼容性、 可靠性、互换性、功耗、质量、体积、寿命等。
(4)接口设计
控制系统的接口设计包括系统内部各部件相互之间及系统与星上其他分系统之间的接口 (光、机、电、热)的设计。
光学接口方面，要保证在太阳敏感器和地球敏感器视场的设计范围内，尽可能避免星上部 件或电缆遮挡入射光线的通路；同时要采取有效措施避免反射光干扰敏感器工作等。
机械接口方面，提出各部件产品的机械结构和外形尺寸的设计图样，提出各部件(如敏感 器和执行机构)安装位置、方向和安装精度要求等。
电气接口方面，设计控制系统电缆连接图和电缆接线表，提出电连接器选用、设置和接点  分配要求等。信息接口包括敏感器、执行机构与星上计算机的接口，以及控制系统与卫星测控  系统之间的接口，设计信息处理装置与星上控制计算机之间的信息传输方式(串并行、单双工、 字长、码速率等)、电路连接形式和电平要求等。
热接口设计要向部件提出的工作温度范围和热循环要求，同时建议卫星热控系统采用表 面处理、热控涂层、多层隔热材料，热管以至主动电加热等方法来保证部件工作所需要的温度 范围等。
(5)可靠性设计、安全性设计、抗辐照设计和电磁兼容性设计。
由于人造卫星所处的严酷空间环境条件和入轨后不可维修这两个特点，控制系统的可靠  性和安全性设计在技术设计及其试验验证在技术设计中占有十分重要的特殊位置。已有行之 有效的卫 星部件、分系统和整星级的有关设计规范、原材料选择、和环境(力学、热真空、辐照、 电磁兼容)试验条件规范，不再赘述。
5.3.4 地面试验
为了保证控制系统达到设计指标要求，系统必须在地面进行充分的试验验证，使所有部件  级和分系统级的问题能够充分暴露并逐个解决。通常在初样阶段或初样阶段前要完成部件的  鉴定试验，初样阶段控制系统要参加卫星鉴定试验，正样阶段要完成部件和系统的验收试验。 根据方案设计和技术设计验证的需要和可能，合理安排控制系统的半物理或全物理仿真试验。
(1)部件试验
部件级试验任务主要解决部件性能指标、忍受空间环境条件的能力(包括部件所使用材料 在空间环境下的长期相容性)以及部件质量、功耗、尺寸、安装基准匹配等指标。
1)鉴定试验。控制系统部件鉴定试验的目的是考核同批部件产品是否符合设计要求。参 加试验的部件应在同批产品中随机抽样。经过鉴定试验的产品，不应作为装星产品交付。试 验中出现的非设计性故障允许修复，但鉴定试验重新进行。
试验项目包括力学(振动、冲击、加速度、噪声)、热环境(温度交变、耐温、湿度、热真空综合  环境)、真空环境(低气压放电、真空冷焊、单体密封、真空紫外辐射、粒子辐照)、剩磁矩、运输、 贮存和寿命试验等。
2)验收试验。控制系统部件验收试验的目的是检验产品承受飞行环境的能力，并暴露产
品材料和工艺缺陷及隐患。每件交付的部件都应进行验收试验。试验中允许的故障总数和修 复次数由技术条件规定。用于更换的元器件应是经过严格筛选的同批次产品，修复后需再进 行试验。
试验项目包括振动试验、热真空综合环境试验和老练试验。
(2)系统试验
系统级试验的任务是在姿态控制系统各部件组成系统的情况下，测试并试验验证系统的 功能和性能，确定系统的静、动态特性和精度并验证核实系统部件之间的匹配关系以及电磁兼 容性是否全面符合设计要求。
控制系统的系统试验包括开路试验和闭路试验。开路试验主要测试控制系统开路状态和 各部件的功能、性能和相互间接口关系，包括各控制回路(由敏感器、控制器和动力学仿真软件 组成)的增益、各执行机构(飞轮、喷气推力器、太阳翼驱动机构等)的控制性能、各部件连接极 性、脉宽脉频调制器性能、故障安全电路功能、遥测遥控接口等。
闭路试验的目的是检查控制系统各种工作模式的功能和性能。在闭路试验中，将整个控 制系统各部件连成闭合回路(卫星姿态动力学用数学模型代替，有些不便于在普通实验室条件 下工作的部件如反作用热气推进系统也常用数学模型代替),然后在闭环运行条件下测试验证 控制系统的各种功能、性能指标，模拟整个发射入轨至在轨运行全过程的各种工作模式的运行 和转换(包括故障状态),考核控制系统在闭路运行条件下与其他分系统的功能、性能匹配和电 磁兼容性等技术指标。
通过控制系统试验，还要对控制精度作标定，以形成供系统装星后运行时的系统误差补偿 数据和遥测数据标称值。对关键的发射运行测控指令链也需进行试验、演练，考核其正确性。
在系统试验开始之前，应分别对参试各部件的性能进行检查(电性能及输入、输出接口), 确认正常后方能接入系统。在连接部件时， 一定要按照相应的技术文件(如电缆接点表)进行 操作，特别要注意电源线的极性、接地等关系部件和系统的安全问题。
由于星载计算机软件非常复杂，需要进行更多的闭路试验以考核其可靠性。可以将星载  计算机控制软件与控制系统数学仿真软件连接(代替数学仿真的控制器模块)进行混合仿真， 以验证算法正确性和精度；或者将全部星载计算机软件置入模拟卫星动力学和硬件特性的软  平台，以验证整个系统软件的功能和性能。这两种方法都能够进行“超实时”仿真，在较短的时  间内完成卫星入轨后的长期运行过程，完成大量的不同边界条件的算例，保证考核的覆盖面； 同时也有利于实现“白盒子”透明调试。另外一种“超实时”仿真是加快星载计算机的外部请求  频率，以考验计算机能否在更短的时间内完成预定的任务，也就是考核其对外部条件变化的忍  耐力和实时性能包括时间余量等。
(3)控制系统仿真
控制系统的仿真包括建立模型、验证模型、试验和分析结果、改进模型、再验证、再改进等 一系列不断迭代试验优化的过程。在概念研究和方案设计阶段主要是对控制系统的数学模型 作分析仿真，优化和确定参数，直至完成全系统数学仿真。在技术设计阶段，随着卫星动力学 特性、各部件特性、飞行程序、环境因素模型以及控制分系统与其他分系统的接口关系等不断 完善，仿真模型和分析试验也不断细化、精化，此时可分阶段用实物代替数学模型进行系统半 物理仿真和全物理仿真。半物理仿真试验使用真实的控制电路和星载计算机软硬件、真实的 敏感器及其接口电路，用卫星动力学和执行机构数学仿真软件驱动机械转台，模拟卫星的姿态
和轨道运动。这是验证和改进控制器设计，完善控制器的硬件和软件研制，并考核运行中的相 容性、适应性的有效试验手段。有条件并有必要时还可进行全部由实物组成系统的全物理仿 真。全物理仿真试验除了使用真实的控制电路、计算机、敏感器及其接口电路外，还利用气浮 台和气垫等重力卸载装置保证模拟的卫星星体及其附件的运动与真实运动具有同样的动力学 特性。
半物理仿真和全物理仿真由于受技术和经济条件的限制，常常难以包括所有的动力学和 环境条件，特别是难以同时实现所有条件，因此其重要意义和作用主要是在对数学模型的验证 和对系统数学仿真结果的确认。随着计算机的飞速发展和数学模型不断完善，半物理仿真和 全物理仿真正逐渐被数学仿真取代。最终的考验当然是飞行试验。通过分析飞行试验数据检 验并修正数学模型可以获得地面试验无法验证的模型参数，如卫星动力学模型、干扰力矩模 型，以及其他在地面试验中难以充分验证的部件数学模型，如推力器在实际温度、压力下的性 能参数等。利用这些参数深化控制系统的分析设计并为后续型号的设计提供依据。